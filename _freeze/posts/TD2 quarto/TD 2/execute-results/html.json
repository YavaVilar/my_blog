{
  "hash": "ec61bc909bbca9004d829ad4ddbaba83",
  "result": {
    "markdown": "---\ntitle: \"Exercices Semaine 2\"\ndate: \"03/02/2024\"\nauthor: Yava Vilar valera\ntoc: true\n---\n\n\n\n\n## Exercices Semaine 2\n\n![](images/clipboard-767475626.png){fig-align=\"center\" width=\"431\"}\n\nCes exercises ont pour but l'implémentation des fonctions pour analyser les données historiques des jeux olympiques.\n\n-   **Lancer la commande suivante**. **Que contient l'objet?**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rvest)\nlibrary(purrr)\n\nlist_tables <-\n  session(\"https://fr.wikipedia.org/wiki/Liste_des_m%C3%A9daill%C3%A9s_olympiques\") |>\n  html_elements(\".wikitable\") |>\n  html_table()\n```\n:::\n\n\nL'objet contient une liste avec 6 éléments contenant différentes bases de données.\n\n-   **On s'intéresse à la première table. Créer un objet intitulédata_medailles_sport_ete contenant le premier élément de list_tables. La table n’est pas bien formattée. Supprimer la première colonne, les noms de colonnes et la première ligne. Renommer les colonnes en c(\"Discipline\", \"Annees\", \"Editions\", \"Epreuves_2020\", \"Or\", \"Argent\", \"Bronze\", \"Total\", \"Athletes_medailles\", \"Athletes_or\"). Les colonnes Editions, Epreuves_2020, Or, Argent, Bronze, Total seront converties en colonnes d’entiers.**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Créer data_medailles_sport_ete contenant la première table de la liste \n\ndata_medailles_sport_ete <- list_tables[[1]]\n\n# Supprimer la première colonne, les noms de colonnes et la première ligne\n\ndata_medailles_sport_ete <- data_medailles_sport_ete[-1,-1]\ncolnames(data_medailles_sport_ete) <- NULL\n\n# Renommer des colonnes \n\ncolnames(data_medailles_sport_ete) <-  c(\"Discipline\", \"Annees\", \"Editions\",\n  \"Epreuves_2020\", \"Or\", \"Argent\", \"Bronze\", \"Total\", \"Athletes_medailles\",\n  \"Athletes_or\")\n\n#Coder en integer \n\ndata_medailles_sport_ete[, 3:8] <- lapply(data_medailles_sport_ete[, 3:8], as.integer)\n```\n:::\n\n\n-   **Les 3 disciplines avec le plus de médailles distribuées**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\n\n#Option avec le tidyverse\n\nTop3_disciplines <- data_medailles_sport_ete |> arrange(desc(Total)) |> slice(1:3)\n\nTop3_disciplines\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 10\n  Discipline             Annees Editions Epreuves_2020    Or Argent Bronze Total\n  <chr>                  <chr>     <int>         <int> <int>  <int>  <int> <int>\n1 Athlétisme             Depui…       29            48  1028   1030   1027  3085\n2 Natation(hommes, femm… Depui…       29            37   607    604    603  1814\n3 Lutte                  1896,…       28            18   430    429    499  1358\n# ℹ 2 more variables: Athletes_medailles <chr>, Athletes_or <chr>\n```\n:::\n\n```{.r .cell-code}\n#Une autre option avec la fct orderet regarder les 3 premiers\n\norder(data_medailles_sport_ete$Total, decreasing=TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1]  1 18 17 12  5 25  2  7  6 14  9 16 28  8 21 23 26 22 20  3 24 15 10  4 29\n[26] 30 13 19 27 11\n```\n:::\n:::\n\n\nL'athléthisme, la natation et la lutte sont les trois disciplines avec le plus de médailles distribuées.\n\n-   **Les 3 disciplines avec le moins d'épreuves en 2020**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_medailles_sport_ete_ordonne_epreuves2020 <- data_medailles_sport_ete |> arrange(Epreuves_2020) |> slice(1:3)\ndata_medailles_sport_ete_ordonne_epreuves2020 ##Sélectionner les 3 dernières\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 3 × 10\n  Discipline Annees             Editions Epreuves_2020    Or Argent Bronze Total\n  <chr>      <chr>                 <int>         <int> <int>  <int>  <int> <int>\n1 Football   1900–1928,depuis …       27             2    34     34     35   103\n2 Golf       1900–1904,depuis …        4             2     8      8      9    19\n3 Handball   1936,depuis 1972         14             2    26     26     26    78\n# ℹ 2 more variables: Athletes_medailles <chr>, Athletes_or <chr>\n```\n:::\n:::\n\n\nLe football, le golf et le handball ont été les disciplines avec le moins d'épreuves en 2020\n\n-   **Calculer une fonction depuis qui représente depuis quelle année l'édition est au programme**\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncalcul_nb_editions_int <- function(depuis) {\n  return(2024-depuis)\n}\n\ncalcul_nb_editions_int(1896) ##Mettre l'année de commence au programme.\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 128\n```\n:::\n:::\n\n\n```         \n```\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}