---
title: "Exercices Semaine 2"
date: "03/02/2024"
author: Yava Vilar valera
toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=TRUE, warning=FALSE, errors=FALSE, message=FALSE, results=TRUE, fig.width=8, fig.height=6)
```

## Exercices Semaine 2

![](images/clipboard-767475626.png){fig-align="center" width="431"}

Ces exercises ont pour but l'implémentation des fonctions pour analyser les données historiques des jeux olympiques.

-   **Lancer la commande suivante**. **Que contient l'objet?**

```{r}

library(rvest)
library(purrr)

list_tables <-
  session("https://fr.wikipedia.org/wiki/Liste_des_m%C3%A9daill%C3%A9s_olympiques") |>
  html_elements(".wikitable") |>
  html_table()
```

L'objet contient une liste avec 6 éléments contenant différentes bases de données.

-   **On s'intéresse à la première table. Créer un objet intitulédata_medailles_sport_ete contenant le premier élément de list_tables. La table n’est pas bien formattée. Supprimer la première colonne, les noms de colonnes et la première ligne. Renommer les colonnes en c("Discipline", "Annees", "Editions", "Epreuves_2020", "Or", "Argent", "Bronze", "Total", "Athletes_medailles", "Athletes_or"). Les colonnes Editions, Epreuves_2020, Or, Argent, Bronze, Total seront converties en colonnes d’entiers.**

```{r}
#Créer data_medailles_sport_ete contenant la première table de la liste 

data_medailles_sport_ete <- list_tables[[1]]

# Supprimer la première colonne, les noms de colonnes et la première ligne

data_medailles_sport_ete <- data_medailles_sport_ete[-1,-1]
colnames(data_medailles_sport_ete) <- NULL

# Renommer des colonnes 

colnames(data_medailles_sport_ete) <-  c("Discipline", "Annees", "Editions",
  "Epreuves_2020", "Or", "Argent", "Bronze", "Total", "Athletes_medailles",
  "Athletes_or")

#Coder en integer 

data_medailles_sport_ete[, 3:8] <- lapply(data_medailles_sport_ete[, 3:8], as.integer)

```

-   **Les 3 disciplines avec le plus de médailles distribuées**

```{r}
library(tidyverse)
library(dplyr)

#Option avec le tidyverse

Top3_disciplines <- data_medailles_sport_ete |> arrange(desc(Total)) |> slice(1:3)

Top3_disciplines

#Une autre option avec la fct orderet regarder les 3 premiers

order(data_medailles_sport_ete$Total, decreasing=TRUE)


```

L'athléthisme, la natation et la lutte sont les trois disciplines avec le plus de médailles distribuées.

-   **Les 3 disciplines avec le moins d'épreuves en 2020**

```{r}
data_medailles_sport_ete_ordonne_epreuves2020 <- data_medailles_sport_ete |> arrange(Epreuves_2020) |> slice(1:3)
data_medailles_sport_ete_ordonne_epreuves2020 ##Sélectionner les 3 dernières

```

Le football, le golf et le handball ont été les disciplines avec le moins d'épreuves en 2020

-   **Calculer une fonction depuis qui représente depuis quelle année l'édition est au programme**

```{r}
calcul_nb_editions_int <- function(depuis) {
  return(2024-depuis)
}

calcul_nb_editions_int(1896) ##Mettre l'année de commence au programme.

```

```         
```
